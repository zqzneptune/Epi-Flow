<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html"><link rel="search" title="Search" href="search.html"><link rel="next" title="Pipeline Parameters" href="04_parameters.html"><link rel="prev" title="Installation &amp; Setup" href="02_installation.html">

    <!-- Generated with Sphinx 8.1.3 and Furo 2025.12.19 -->
        <title>Preparing Analysis Resources - Epi-Flow 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=7bdb33bb" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  --color-brand-primary: #007acc;
  --color-brand-content: #007acc;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #1a9fff;
  --color-brand-content: #1a9fff;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #1a9fff;
  --color-brand-content: #1a9fff;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Epi-Flow 1.0.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <span class="sidebar-brand-text">Epi-Flow 1.0.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="01_philosophy.html">Design Philosophy</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_installation.html">Installation &amp; Setup</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Preparing Analysis Resources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="04_parameters.html">Pipeline Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_use_cases.html">Use Cases &amp; Practical Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_results.html">Interpreting Your Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="07_downstream_analysis.html">Beyond the Pipeline: Downstream Analysis Strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_support.html">Support &amp; Contributions</a></li>
</ul>

</div><!-- docs/source/_templates/sidebar-links.html -->

<div class="sidebar-tree">
  <p class="caption">
    <span class="caption-text">Project Links</span>
  </p>
  <ul>
    <li class="toctree-l1">
      <a class="reference external" href="https://github.com/zqzneptune/Epi-Flow">
        GitHub Repository
      </a>
    </li>
    <li class="toctree-l1">
      <a class="reference external" href="https://zqzneptune.github.io">
        About the Author
      </a>
    </li>
  </ul>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/zqzneptune/epi-flow/blob/main/docs/source/03_preparation.md?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/zqzneptune/epi-flow/edit/main/docs/source/03_preparation.md" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="preparing-analysis-resources">
<h1>Preparing Analysis Resources<a class="headerlink" href="#preparing-analysis-resources" title="Link to this heading">¶</a></h1>
<p>A successful analysis begins long before you run the first command. Proper preparation of your reference files is the single most important factor in generating accurate and reproducible results. This guide covers the three essential resources you need: a <strong>Bowtie2 index</strong>, the <strong>effective genome size</strong>, and a <strong>blacklist file</strong>.</p>
<blockquote>
<div><p><strong>The Rule of Consistency</strong></p>
<p>All your reference files—the genome FASTA, the Bowtie2 index, gene annotations (GTF/GFF), and the blacklist—<strong>must</strong> be derived from the exact same genome assembly version (e.g., <code class="docutils literal notranslate"><span class="pre">hg38</span></code> or <code class="docutils literal notranslate"><span class="pre">GRCh38.p13</span></code>). Mixing assemblies is a common and critical source of errors.</p>
</div></blockquote>
<hr class="docutils" />
<section id="the-reference-genome-bowtie2-index-x">
<h2>1. The Reference Genome &amp; Bowtie2 Index (<code class="docutils literal notranslate"><span class="pre">-x</span></code>)<a class="headerlink" href="#the-reference-genome-bowtie2-index-x" title="Link to this heading">¶</a></h2>
<p>Epi-Flow uses a specialized, pre-computed <strong>Bowtie2 index</strong> for ultra-fast read alignment. You only need to build this index once for each genome assembly.</p>
<section id="step-1-obtain-the-reference-genome-fasta">
<h3>Step 1: Obtain the Reference Genome FASTA<a class="headerlink" href="#step-1-obtain-the-reference-genome-fasta" title="Link to this heading">¶</a></h3>
<p>First, you need the official DNA sequence for your organism. The best sources are major genomics consortia:</p>
<ul class="simple">
<li><p><strong>GENCODE:</strong> The gold standard for human and mouse, providing comprehensive annotation.</p></li>
<li><p><strong>Ensembl:</strong> A massive database for hundreds of vertebrate species.</p></li>
<li><p><strong>UCSC:</strong> A popular source with many useful tools and genome builds.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example: Downloading the primary human genome assembly from GENCODE</span>
wget<span class="w"> </span>https://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/release_45/GRCh38.primary_assembly.genome.fa.gz
gunzip<span class="w"> </span>GRCh38.primary_assembly.genome.fa.gz
</pre></div>
</div>
</section>
<section id="step-2-build-the-bowtie2-index">
<h3>Step 2: Build the Bowtie2 Index<a class="headerlink" href="#step-2-build-the-bowtie2-index" title="Link to this heading">¶</a></h3>
<p>Once you have the FASTA file, use the <code class="docutils literal notranslate"><span class="pre">bowtie2-build</span></code> command to create the index files.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Command format: bowtie2-build &lt;input_fasta_file&gt; &lt;output_index_prefix&gt;</span>

bowtie2-build<span class="w"> </span>GRCh38.primary_assembly.genome.fa<span class="w"> </span>/path/to/your/genomes/hg38
</pre></div>
</div>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">&lt;input_fasta_file&gt;</span></code>:</strong> The <code class="docutils literal notranslate"><span class="pre">GRCh38.primary_assembly.genome.fa</span></code> file you just downloaded.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">&lt;output_index_prefix&gt;</span></code>:</strong> This is the crucial part. It’s a name you choose that will be used as the base name for all the index files. This prefix (e.g., <code class="docutils literal notranslate"><span class="pre">/path/to/your/genomes/hg38</span></code>) is the <strong>exact value you will provide to Epi-Flow using the <code class="docutils literal notranslate"><span class="pre">-x</span></code> flag.</strong></p></li>
</ul>
<p>After the command finishes (which can take an hour for a human genome), your directory will contain several files with a <code class="docutils literal notranslate"><span class="pre">.bt2</span></code> or <code class="docutils literal notranslate"><span class="pre">.bt2l</span></code> extension. This is your index.</p>
<blockquote>
<div><p><strong>Pro Tip: Organize Your Genomes!</strong></p>
<p>Create a dedicated directory on your system (e.g., <code class="docutils literal notranslate"><span class="pre">/data/genomes/</span></code>) to store all reference files. Within it, create a folder for each genome assembly (<code class="docutils literal notranslate"><span class="pre">hg38</span></code>, <code class="docutils literal notranslate"><span class="pre">mm10</span></code>, etc.). This keeps your indices, annotations, and blacklists neatly organized and easy to find for all your future projects.</p>
</div></blockquote>
</section>
<section id="command-line-quick-start-genome-indexing">
<h3>Command-Line Quick Start: Genome Indexing<a class="headerlink" href="#command-line-quick-start-genome-indexing" title="Link to this heading">¶</a></h3>
<p>Below are self-contained command blocks to download a reference genome from UCSC, build the Bowtie2 index, and clean up the downloaded files.</p>
<p><strong>Prerequisites:</strong> You must have <code class="docutils literal notranslate"><span class="pre">wget</span></code> and <code class="docutils literal notranslate"><span class="pre">bowtie2</span></code> installed and available in your <code class="docutils literal notranslate"><span class="pre">PATH</span></code>.</p>
<p>Simply copy the entire block for your desired organism and paste it into your terminal. The indexing process can take a significant amount of time (over an hour for human/mouse) and memory.</p>
<hr class="docutils" />
<section id="human-hg38">
<h4>Human (hg38)<a class="headerlink" href="#human-hg38" title="Link to this heading">¶</a></h4>
<p>This will download the hg38 reference genome, build the Bowtie2 index with the prefix <code class="docutils literal notranslate"><span class="pre">hg38</span></code>, and then remove the large FASTA file to save space.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># --- Human (hg38) ---</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Downloading hg38 reference genome from UCSC...&quot;</span>
wget<span class="w"> </span>-c<span class="w"> </span>-O<span class="w"> </span>hg38.fa.gz<span class="w"> </span>https://hgdownload.soe.ucsc.edu/goldenPath/hg38/bigZips/hg38.fa.gz<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Decompressing...&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
gunzip<span class="w"> </span>hg38.fa.gz<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Building Bowtie2 index (this will take a while)...&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
bowtie2-build<span class="w"> </span>hg38.fa<span class="w"> </span>hg38<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Cleaning up large FASTA file...&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
rm<span class="w"> </span>hg38.fa<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Done. Bowtie2 index &#39;hg38&#39; is ready in the current folder.&quot;</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="mouse-mm10">
<h4>Mouse (mm10)<a class="headerlink" href="#mouse-mm10" title="Link to this heading">¶</a></h4>
<p>This will download the mm10 reference genome, build the Bowtie2 index with the prefix <code class="docutils literal notranslate"><span class="pre">mm10</span></code>, and clean up.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># --- Mouse (mm10) ---</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Downloading mm10 reference genome from UCSC...&quot;</span>
wget<span class="w"> </span>-c<span class="w"> </span>-O<span class="w"> </span>mm10.fa.gz<span class="w"> </span>https://hgdownload.soe.ucsc.edu/goldenPath/mm10/bigZips/mm10.fa.gz<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Decompressing...&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
gunzip<span class="w"> </span>mm10.fa.gz<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Building Bowtie2 index (this will take a while)...&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
bowtie2-build<span class="w"> </span>mm10.fa<span class="w"> </span>mm10<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Cleaning up large FASTA file...&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
rm<span class="w"> </span>mm10.fa<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Done. Bowtie2 index &#39;mm10&#39; is ready in the current folder.&quot;</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="rat-rn7">
<h4>Rat (rn7)<a class="headerlink" href="#rat-rn7" title="Link to this heading">¶</a></h4>
<p>This will download the rn7 reference genome, build the Bowtie2 index with the prefix <code class="docutils literal notranslate"><span class="pre">rn7</span></code>, and clean up.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># --- Rat (rn7) ---</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Downloading rn7 reference genome from UCSC...&quot;</span>
wget<span class="w"> </span>-c<span class="w"> </span>-O<span class="w"> </span>rn7.fa.gz<span class="w"> </span>https://hgdownload.soe.ucsc.edu/goldenPath/rn7/bigZips/rn7.fa.gz<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Decompressing...&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
gunzip<span class="w"> </span>rn7.fa.gz<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Building Bowtie2 index...&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
bowtie2-build<span class="w"> </span>rn7.fa<span class="w"> </span>rn7<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Cleaning up large FASTA file...&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
rm<span class="w"> </span>rn7.fa<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Done. Bowtie2 index &#39;rn7&#39; is ready in the current folder.&quot;</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="zebrafish-danrer11">
<h4>Zebrafish (danRer11)<a class="headerlink" href="#zebrafish-danrer11" title="Link to this heading">¶</a></h4>
<p>This will download the danRer11 reference genome, build the Bowtie2 index with the prefix <code class="docutils literal notranslate"><span class="pre">danRer11</span></code>, and clean up.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># --- Zebrafish (danRer11) ---</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Downloading danRer11 reference genome from UCSC...&quot;</span>
wget<span class="w"> </span>-c<span class="w"> </span>-O<span class="w"> </span>danRer11.fa.gz<span class="w"> </span>https://hgdownload.soe.ucsc.edu/goldenPath/danRer11/bigZips/danRer11.fa.gz<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Decompressing...&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
gunzip<span class="w"> </span>danRer11.fa.gz<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Building Bowtie2 index...&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
bowtie2-build<span class="w"> </span>danRer11.fa<span class="w"> </span>danRer11<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Cleaning up large FASTA file...&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
rm<span class="w"> </span>danRer11.fa<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Done. Bowtie2 index &#39;danRer11&#39; is ready in the current folder.&quot;</span><span class="sb">```</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="fruit-fly-dm6">
<h4>Fruit Fly (dm6)<a class="headerlink" href="#fruit-fly-dm6" title="Link to this heading">¶</a></h4>
<p>This will download the dm6 reference genome, build the Bowtie2 index with the prefix <code class="docutils literal notranslate"><span class="pre">dm6</span></code>, and clean up.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># --- Fruit Fly (dm6) ---</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Downloading dm6 reference genome from UCSC...&quot;</span>
wget<span class="w"> </span>-c<span class="w"> </span>-O<span class="w"> </span>dm6.fa.gz<span class="w"> </span>https://hgdownload.soe.ucsc.edu/goldenPath/dm6/bigZips/dm6.fa.gz<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Decompressing...&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
gunzip<span class="w"> </span>dm6.fa.gz<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Building Bowtie2 index...&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
bowtie2-build<span class="w"> </span>dm6.fa<span class="w"> </span>dm6<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Cleaning up large FASTA file...&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
rm<span class="w"> </span>dm6.fa<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Done. Bowtie2 index &#39;dm6&#39; is ready in the current folder.&quot;</span>
</pre></div>
</div>
<p>After running one of these blocks, the output prefix (<code class="docutils literal notranslate"><span class="pre">hg38</span></code>, <code class="docutils literal notranslate"><span class="pre">mm10</span></code>, etc.) in your current directory is what you should provide to the <code class="docutils literal notranslate"><span class="pre">-x</span></code> flag when running Epi-Flow.</p>
</section>
</section>
</section>
<hr class="docutils" />
<section id="effective-genome-size-g">
<h2>2. Effective Genome Size (<code class="docutils literal notranslate"><span class="pre">-g</span></code>)<a class="headerlink" href="#effective-genome-size-g" title="Link to this heading">¶</a></h2>
<p>The “effective genome size” is the portion of the genome that is mappable. It’s smaller than the full genome sequence because it excludes repetitive regions and areas filled with ‘N’s where reads cannot be uniquely aligned. This value is essential for the statistical models used in peak calling by <code class="docutils literal notranslate"><span class="pre">MACS3</span></code>.</p>
<p>For common organisms, you can use these pre-calculated values:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Genome Assembly</p></th>
<th class="head text-left"><p>Shorthand</p></th>
<th class="head text-left"><p>Effective Size (Integer for <code class="docutils literal notranslate"><span class="pre">-g</span></code>)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Human (GRCh38 / hg38)</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">hs</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">2913022398</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Mouse (GRCm38 / mm10)</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">mm</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">2652783500</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>C. elegans (ce10)</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ce</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">97985443</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>D. melanogaster (dm6)</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">dm</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">142573017</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<section id="what-if-my-organism-isn-t-listed">
<h3>What if my organism isn’t listed?<a class="headerlink" href="#what-if-my-organism-isn-t-listed" title="Link to this heading">¶</a></h3>
<p>You can calculate the effective size yourself and find more information from the <a class="reference external" href="https://deeptools.readthedocs.io/en/latest/index.html">deepTools</a> package.</p>
</section>
</section>
<hr class="docutils" />
<section id="blacklist-regions-b">
<h2>3. Blacklist Regions (<code class="docutils literal notranslate"><span class="pre">-b</span></code>)<a class="headerlink" href="#blacklist-regions-b" title="Link to this heading">¶</a></h2>
<p>Blacklist regions are the Achilles’ heel of chromatin analysis. They are genomic regions that consistently attract high, artificial signals in sequencing experiments regardless of the cell type or protein being targeted. They are like “sticky” spots on the genome that can be easily mistaken for real biological peaks.</p>
<p><strong>Filtering these regions is not optional; it is essential for high-quality results.</strong></p>
<section id="where-to-get-blacklist-files">
<h3>Where to get Blacklist Files<a class="headerlink" href="#where-to-get-blacklist-files" title="Link to this heading">¶</a></h3>
<p>The <strong>ENCODE project</strong> maintains the most widely used set of blacklist files.</p>
<ul class="simple">
<li><p><strong><a class="reference external" href="https://github.com/Boyle-Lab/Blacklist">Download Blacklist Files from Boyle-Lab/Blacklist on GitHub</a></strong></p></li>
</ul>
<p>Find the appropriate file for your genome assembly (e.g., <code class="docutils literal notranslate"><span class="pre">hg38-blacklist.v2.bed</span></code>), download it, and provide the path to it using the <code class="docutils literal notranslate"><span class="pre">-b</span></code> flag in Epi-Flow.</p>
<p><strong>What does a blacklist region look like?</strong> In a genome browser, they often appear as extremely sharp, narrow towers of signal that are present across many different experiments, including input controls. By removing them, you ensure your final peak set is enriched for true biological signals.</p>
</section>
<hr class="docutils" />
<section id="preparation-checklist">
<h3>Preparation Checklist<a class="headerlink" href="#preparation-checklist" title="Link to this heading">¶</a></h3>
<p>Before you run Epi-Flow, make sure you have:</p>
<ul class="simple">
<li><p>[ ] <strong>A Bowtie2 Index:</strong> You know the full path to the index prefix (for the <code class="docutils literal notranslate"><span class="pre">-x</span></code> flag).</p></li>
<li><p>[ ] <strong>The Effective Genome Size:</strong> You have the correct integer value for your assembly (for the <code class="docutils literal notranslate"><span class="pre">-g</span></code> flag).</p></li>
<li><p>[ ] <strong>A Blacklist File:</strong> You have downloaded the BED file for your assembly (for the <code class="docutils literal notranslate"><span class="pre">-b</span></code> flag).</p></li>
</ul>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="04_parameters.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Pipeline Parameters</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="02_installation.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Installation &amp; Setup</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Qingzhou Zhang
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Preparing Analysis Resources</a><ul>
<li><a class="reference internal" href="#the-reference-genome-bowtie2-index-x">1. The Reference Genome &amp; Bowtie2 Index (<code class="docutils literal notranslate"><span class="pre">-x</span></code>)</a><ul>
<li><a class="reference internal" href="#step-1-obtain-the-reference-genome-fasta">Step 1: Obtain the Reference Genome FASTA</a></li>
<li><a class="reference internal" href="#step-2-build-the-bowtie2-index">Step 2: Build the Bowtie2 Index</a></li>
<li><a class="reference internal" href="#command-line-quick-start-genome-indexing">Command-Line Quick Start: Genome Indexing</a><ul>
<li><a class="reference internal" href="#human-hg38">Human (hg38)</a></li>
<li><a class="reference internal" href="#mouse-mm10">Mouse (mm10)</a></li>
<li><a class="reference internal" href="#rat-rn7">Rat (rn7)</a></li>
<li><a class="reference internal" href="#zebrafish-danrer11">Zebrafish (danRer11)</a></li>
<li><a class="reference internal" href="#fruit-fly-dm6">Fruit Fly (dm6)</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#effective-genome-size-g">2. Effective Genome Size (<code class="docutils literal notranslate"><span class="pre">-g</span></code>)</a><ul>
<li><a class="reference internal" href="#what-if-my-organism-isn-t-listed">What if my organism isn’t listed?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#blacklist-regions-b">3. Blacklist Regions (<code class="docutils literal notranslate"><span class="pre">-b</span></code>)</a><ul>
<li><a class="reference internal" href="#where-to-get-blacklist-files">Where to get Blacklist Files</a></li>
<li><a class="reference internal" href="#preparation-checklist">Preparation Checklist</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=8d563738"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>